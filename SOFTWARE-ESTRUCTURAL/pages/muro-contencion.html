<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dise√±o de Muro de Contenci√≥n</title>
    <link rel="stylesheet" href="../css/global.css">
    <link rel="stylesheet" href="../css/muro-contencion.css">
    <link rel="stylesheet" href="../css/cortes.css">
</head>
<body>
    <header>
        <h1>Dise√±o de Muro de Contenci√≥n</h1>
        <p>C√°lculo seg√∫n NCh430 - Teor√≠a de Rankine/Coulomb</p>
    </header>

    <div class="container">
        <a href="../index.html" class="back-button">‚Üê Volver al Men√∫</a>
        
        <div class="content-wrapper">
            <!-- Secci√≥n de Entrada -->
            <div class="input-section">
                <h2>üìù Datos de Entrada</h2>
                
                <div class="form-group">
                    <label>Tipo de Muro:</label>
                    <select id="tipoMuro">
                        <option value="voladizo" selected>Muro en Voladizo</option>
                        <option value="l">Muro en L</option>
                        <option value="contrafuerte">Muro con Contrafuertes</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label>Altura del Muro (H):</label>
                    <input type="number" id="altura" value="4.0" step="0.5">
                    <small>m</small>
                </div>
                
                <div class="form-group">
                    <label>Espesor en la Base (t_base):</label>
                    <input type="number" id="espesorBase" value="0.50" step="0.05">
                    <small>m</small>
                </div>
                
                <div class="form-group">
                    <label>Espesor en la Corona (t_corona):</label>
                    <input type="number" id="espesorCorona" value="0.25" step="0.05">
                    <small>m (m√≠nimo 25 cm)</small>
                </div>
                
                <div class="form-group">
                    <label>Ancho de Zapata (B):</label>
                    <input type="number" id="anchoZapata" value="2.80" step="0.10">
                    <small>m (t√≠pico: H/2 a 2H/3)</small>
                </div>
                
                <div class="form-group">
                    <label>Altura de Zapata (h_zapata):</label>
                    <input type="number" id="alturaZapata" value="0.40" step="0.05">
                    <small>m</small>
                </div>
                
                <div class="form-group">
                    <label>√Ångulo de Fricci√≥n del Suelo (œÜ):</label>
                    <input type="number" id="anguloFriccion" value="30" step="1">
                    <small>grados (t√≠pico: 28-35¬∞)</small>
                </div>
                
                <div class="form-group">
                    <label>Peso Espec√≠fico del Suelo (Œ≥):</label>
                    <input type="number" id="pesoSuelo" value="18" step="0.5">
                    <small>kN/m¬≥</small>
                </div>
                
                <div class="form-group">
                    <label>Capacidad Portante del Suelo (qadm):</label>
                    <input type="number" id="qadm" value="200" step="10">
                    <small>kPa</small>
                </div>
                
                <div class="form-group">
                    <label>Sobrecarga en el Relleno (q):</label>
                    <input type="number" id="sobrecarga" value="10" step="5">
                    <small>kN/m¬≤ (tr√°fico, construcciones, etc)</small>
                </div>
                
                <div class="form-group">
                    <label>Resistencia del Hormig√≥n (f'c):</label>
                    <select id="fc">
                        <option value="20">H20 (20 MPa)</option>
                        <option value="25" selected>H25 (25 MPa)</option>
                        <option value="30">H30 (30 MPa)</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label>Acero de Refuerzo (fy):</label>
                    <select id="fy">
                        <option value="280">A44-28H (280 MPa)</option>
                        <option value="420" selected>A63-42H (420 MPa)</option>
                    </select>
                </div>
                
                <button class="btn-calculate" onclick="calcularMuroContencion()">
                    üî® Calcular Muro de Contenci√≥n
                </button>
            </div>
            
            <!-- Secci√≥n de Salida -->
            <div class="output-section">
                <h2>üìä Resultados del Dise√±o</h2>
                
                <div class="vista-controles">
                    <button class="btn-vista active" id="btn3d" onclick="cambiarVista('3d')">
                        üî∑ Vista 3D
                    </button>
                    <button class="btn-vista" id="btnCorteA" onclick="cambiarVista('corteA')">
                        ‚úÇÔ∏è Corte A-A
                    </button>
                    <button class="btn-vista" id="btnCorteB" onclick="cambiarVista('corteB')">
                        ‚úÇÔ∏è Corte B-B
                    </button>
                    <button class="btn-vista" id="btnAcero" onclick="cambiarVista('acero')">
                        üîß Solo Acero
                    </button>
                </div>
                <div class="vista-container">
                    <div id="canvas3d" class="active"></div>
                    <canvas id="canvasCorteA" width="800" height="600"></canvas>
                    <canvas id="canvasCorteB" width="800" height="600"></canvas>
                    <div id="canvasAcero"></div>
                </div>
                
                <div class="results" id="resultados">
                    <p style="text-align: center; color: #7f8c8d; padding: 2rem;">
                        Ingrese los datos y presione "Calcular" para ver los resultados
                    </p>
                </div>
            </div>
        </div>
    </div>

    <footer>
        <p>¬© 2025 - Software de C√°lculos Estructurales Chile</p>
    </footer>

    <!-- Three.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script>
    
    <!-- Scripts de utilidades -->
    <script src="../js/utils/normativa-chile.js"></script>
    <script src="../js/utils/calculos-comunes.js"></script>
    <script src="../js/utils/three-config.js"></script>
    <script src="../js/utils/acero-cuantificacion.js"></script>
    <script src="../js/utils/cortes-detalle.js"></script>
    
    <!-- ========================================
         M√ìDULO DE MUROS - ESTRUCTURA MODULAR
         ======================================== -->
    <script src="../js/muros/muro-calculos.js"></script>
    <script src="../js/muros/muro-visualizacion-3d.js"></script>
    <script src="../js/muros/muro-acero-visualizacion.js"></script>
    <script src="../js/muros/muro-resultados.js"></script>
    <script src="../js/muros/muro-cortes.js"></script>
    <script src="../js/muros/muro-main.js"></script>
</body>
</html>